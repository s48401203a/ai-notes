<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <title>Codex CLI é€ŸæŸ¥æ‰‹å†Œ v2.1ï¼ˆWindows / WSL2 / PowerShell / Clashï¼‰</title>
  <meta name="description" content="Codex CLIï¼ˆ@openai/codexï¼‰å®Œæ•´é€ŸæŸ¥ï¼šå®‰è£…ã€ç™»å½•ã€æ¨¡å‹ã€å®¡æ‰¹æ¨¡å¼ã€å¸¸ç”¨å‘½ä»¤ã€å›¾åƒè¾“å…¥ã€ç”¨é‡ä¸è®¢é˜…ã€ä»£ç†ä¸ WSLã€FAQsã€ä»¥åŠç»™ Codex çš„ç»´æŠ¤æç¤ºè¯ã€‚" />
  <style>
    /* ========== ä¸»é¢˜é¢œè‰²å˜é‡ ========== */
    :root {
      --bg: #ffffff;
      --bg-secondary: #f6f8fc;
      --panel: #ffffff;
      --muted: #5d6b8a;
      --text: #0e1b31;
      --text-secondary: #475569;
      --accent: #2b6bff;
      --accent-2: #0f9d58;
      --accent-hover: #1e54d9;
      --border: #e6ecf5;
      --border-light: #f1f5f9;
      --chip: #eef3fb;
      --warn: #b47b00;
      --danger: #c92a2a;
      --good: #1f8d52;
      --code-bg: #0f1530;
      --code-text: #e7eef9;
      --shadow-sm: 0 1px 3px rgba(0,0,0,0.05);
      --shadow-md: 0 4px 12px rgba(0,0,0,0.08);
      --shadow-lg: 0 10px 26px rgba(0,0,0,0.1);
      --navbar-height: 60px;
      --sidebar-width: 260px;
      --toc-width: 220px;
    }

    [data-theme="dark"] {
      --bg: #0b1020;
      --bg-secondary: #0f1530;
      --panel: #121a2b;
      --muted: #8fa3c7;
      --text: #e7eef9;
      --text-secondary: #94a3b8;
      --accent: #6aa6ff;
      --accent-2: #75e0a3;
      --accent-hover: #85b3ff;
      --border: #27324a;
      --border-light: #1e2840;
      --chip: #1a2540;
      --warn: #f6c244;
      --danger: #ff6b6b;
      --good: #49d289;
      --code-bg: #0c132a;
      --code-text: #f4f7ff;
      --shadow-sm: 0 1px 3px rgba(0,0,0,0.2);
      --shadow-md: 0 4px 12px rgba(0,0,0,0.25);
      --shadow-lg: 0 10px 26px rgba(0,0,0,0.3);
    }

    /* ========== åŸºç¡€æ ·å¼é‡ç½® ========== */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      scroll-behavior: smooth;
      height: 100%;
    }

    body {
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Inter, "Noto Sans CJK SC", "PingFang SC", "Microsoft YaHei", sans-serif;
      font-size: 15px;
      line-height: 1.65;
      color: var(--text);
      background: var(--bg);
      height: 100%;
      overflow-x: hidden;
    }

    a {
      color: var(--accent);
      text-decoration: none;
      transition: all 0.2s ease;
    }

    a:hover {
      color: var(--accent-hover);
    }

    code {
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Courier New", monospace;
      font-size: 0.9em;
    }

    /* ========== å¸ƒå±€ç»“æ„ ========== */
    .app-container {
      display: flex;
      flex-direction: column;
      height: 100vh;
    }

    /* é¡¶éƒ¨å¯¼èˆªæ  */
    .navbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: var(--navbar-height);
      background: var(--panel);
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      padding: 0 24px;
      gap: 20px;
      z-index: 1000;
      box-shadow: var(--shadow-sm);
    }

    .navbar-brand {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 18px;
      font-weight: 600;
      color: var(--text);
      flex-shrink: 0;
    }

    .navbar-logo {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);
    }

    .navbar-search {
      flex: 1;
      max-width: 500px;
      position: relative;
    }

    .navbar-search input {
      width: 100%;
      padding: 9px 16px 9px 40px;
      border: 1px solid var(--border);
      border-radius: 10px;
      background: var(--bg-secondary);
      color: var(--text);
      font-size: 14px;
      transition: all 0.2s ease;
    }

    .navbar-search input:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(43, 107, 255, 0.1);
    }

    .navbar-search::before {
      content: "ğŸ”";
      position: absolute;
      left: 14px;
      top: 50%;
      transform: translateY(-50%);
      opacity: 0.6;
    }

    .navbar-actions {
      display: flex;
      gap: 12px;
      align-items: center;
    }

    .navbar-btn {
      padding: 8px 14px;
      border: 1px solid var(--border);
      border-radius: 8px;
      background: var(--chip);
      color: var(--text);
      cursor: pointer;
      font-size: 14px;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .navbar-btn:hover {
      background: var(--bg-secondary);
      transform: translateY(-1px);
    }

    .mobile-toggle {
      display: none;
      padding: 8px;
      background: none;
      border: none;
      color: var(--text);
      cursor: pointer;
      font-size: 24px;
    }

    /* ä¸»å†…å®¹åŒº */
    .main-wrapper {
      margin-top: var(--navbar-height);
      display: flex;
      min-height: calc(100vh - var(--navbar-height));
    }

    /* å·¦ä¾§è¾¹æ  */
    .sidebar {
      width: var(--sidebar-width);
      background: var(--panel);
      border-right: 1px solid var(--border);
      overflow-y: auto;
      flex-shrink: 0;
      position: sticky;
      top: var(--navbar-height);
      height: calc(100vh - var(--navbar-height));
    }

    .sidebar-content {
      padding: 20px 16px;
    }

    .nav-group {
      margin-bottom: 24px;
    }

    .nav-group-title {
      padding: 8px 12px;
      font-size: 11px;
      font-weight: 700;
      letter-spacing: 0.8px;
      text-transform: uppercase;
      color: var(--muted);
      display: flex;
      align-items: center;
      justify-content: space-between;
      cursor: pointer;
      user-select: none;
      border-radius: 6px;
      transition: all 0.2s ease;
    }

    .nav-group-title:hover {
      background: var(--chip);
    }

    .nav-group-title::after {
      content: "â–¼";
      font-size: 10px;
      transition: transform 0.3s ease;
    }

    .nav-group.collapsed .nav-group-title::after {
      transform: rotate(-90deg);
    }

    .nav-links {
      display: flex;
      flex-direction: column;
      gap: 2px;
      margin-top: 6px;
      max-height: 1000px;
      overflow: hidden;
      transition: max-height 0.3s ease, opacity 0.3s ease;
    }

    .nav-group.collapsed .nav-links {
      max-height: 0;
      opacity: 0;
    }

    .nav-link {
      padding: 8px 12px;
      border-radius: 8px;
      color: var(--text-secondary);
      font-size: 14px;
      display: block;
      transition: all 0.2s ease;
      border-left: 3px solid transparent;
    }

    .nav-link:hover {
      background: var(--chip);
      color: var(--text);
      border-left-color: var(--accent);
    }

    .nav-link.active {
      background: var(--chip);
      color: var(--accent);
      font-weight: 500;
      border-left-color: var(--accent);
    }

    /* ä¸­é—´å†…å®¹åŒº */
    .content {
      flex: 1;
      overflow-y: auto;
      background: var(--bg);
      padding: 32px 48px;
      max-width: 1200px;
      margin: 0 auto;
    }

    /* é¢åŒ…å±‘å¯¼èˆª */
    .breadcrumb {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 24px;
      font-size: 13px;
      color: var(--muted);
      flex-wrap: wrap;
    }

    .breadcrumb a {
      color: var(--muted);
    }

    .breadcrumb a:hover {
      color: var(--accent);
    }

    .breadcrumb-separator {
      color: var(--muted);
      opacity: 0.5;
    }

    .breadcrumb-current {
      color: var(--text);
      font-weight: 500;
    }

    /* å³ä¾§ TOC - å·²éšè— */
    .toc {
      display: none;
    }

    .toc-title {
      font-size: 12px;
      font-weight: 700;
      letter-spacing: 0.6px;
      text-transform: uppercase;
      color: var(--muted);
      margin-bottom: 16px;
    }

    .toc-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .toc-item {
      margin-bottom: 4px;
    }

    .toc-link {
      display: block;
      padding: 6px 10px 6px 28px;
      font-size: 13px;
      color: var(--text-secondary);
      border-radius: 6px;
      border-left: 2px solid transparent;
      transition: all 0.2s ease;
      position: relative;
    }

    .toc-link::before {
      content: "â–¸";
      position: absolute;
      left: 10px;
      color: var(--accent);
      font-size: 12px;
      transition: transform 0.2s ease;
    }

    .toc-link:hover::before {
      transform: translateX(2px);
    }

    .toc-link:hover {
      background: var(--chip);
      color: var(--text);
    }

    .toc-link.active {
      color: var(--accent);
      background: var(--chip);
      border-left-color: var(--accent);
      font-weight: 500;
    }

    .toc-link.level-3 {
      padding-left: 40px;
      font-size: 12px;
    }

    .toc-link.level-3::before {
      left: 22px;
      content: "Â·";
      font-size: 14px;
    }

    /* ========== å†…å®¹æ ·å¼ ========== */
    .card {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 24px;
      box-shadow: var(--shadow-sm);
      transition: all 0.2s ease;
    }

    .card:hover {
      box-shadow: var(--shadow-md);
    }

    h2 {
      margin: 0 0 16px 0;
      font-size: 24px;
      font-weight: 600;
      color: var(--text);
      padding-top: 8px;
    }

    h3 {
      margin: 24px 0 12px 0;
      font-size: 18px;
      font-weight: 600;
      color: var(--text);
    }

    h4 {
      margin: 20px 0 10px 0;
      font-size: 16px;
      font-weight: 600;
      color: var(--text);
    }

    p {
      margin: 12px 0;
      color: var(--text-secondary);
    }

    /* ä»£ç å— */
    pre {
      margin: 14px 0;
      background: var(--code-bg);
      border: 1px solid var(--border-light);
      border-radius: 10px;
      overflow-x: auto;
      position: relative;
      padding: 16px;
    }

    pre code {
      color: var(--code-text);
      font-size: 13px;
      line-height: 1.6;
    }

    .copy {
      position: absolute;
      top: 12px;
      right: 12px;
      z-index: 10;
    }

    .copy button {
      font-size: 12px;
      padding: 6px 12px;
      border-radius: 6px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      background: rgba(255, 255, 255, 0.08);
      color: #fff;
      cursor: pointer;
      transition: all 0.2s ease;
      backdrop-filter: blur(10px);
    }

    .copy button:hover {
      background: rgba(255, 255, 255, 0.15);
    }

    .copy .ok {
      display: none;
      margin-left: 8px;
      color: var(--good);
      font-size: 12px;
    }

    .comment {
      color: #75e0a3;
      opacity: 0.8;
    }

    [data-theme="light"] .comment {
      color: #1f7d4d;
    }

    /* è¡¨æ ¼ */
    .table {
      width: 100%;
      border-collapse: collapse;
      margin: 16px 0;
      font-size: 14px;
    }

    .table th,
    .table td {
      border: 1px solid var(--border);
      padding: 12px;
      text-align: left;
    }

    .table th {
      background: var(--chip);
      font-weight: 600;
      color: var(--text);
    }

    .table tr:hover {
      background: var(--bg-secondary);
    }

    /* æç¤ºæ¡† */
    .alert {
      padding: 14px 16px;
      border-radius: 10px;
      border-left: 4px solid var(--border);
      background: var(--chip);
      margin: 16px 0;
      font-size: 14px;
    }

    .alert strong {
      display: block;
      margin-bottom: 6px;
      font-weight: 600;
    }

    .alert.primary {
      background: rgba(106, 166, 255, 0.12);
      border-left-color: var(--accent);
      color: var(--text);
    }

    .alert.info {
      background: rgba(117, 224, 163, 0.12);
      border-left-color: var(--accent-2);
      color: var(--text);
    }

    .alert.warn {
      background: rgba(246, 194, 68, 0.15);
      border-left-color: var(--warn);
      color: var(--text);
    }

    .alert.danger {
      background: rgba(255, 107, 107, 0.15);
      border-left-color: var(--danger);
      color: var(--text);
    }

    /* èŠ¯ç‰‡æ ‡ç­¾ */
    .chip, .kbd {
      display: inline-block;
      background: var(--chip);
      border: 1px solid var(--border);
      color: var(--text);
      padding: 4px 10px;
      border-radius: 6px;
      font-size: 13px;
      font-family: ui-monospace, monospace;
    }

    /* æ–°å¢å†…å®¹æ ‡è®° */
    .tag-new {
      display: inline-block;
      background: linear-gradient(135deg, #10b981, #06b6d4);
      color: #fff;
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
      margin-left: 12px;
      box-shadow: 0 2px 8px rgba(16, 185, 129, 0.25);
    }

    .kvs {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin: 12px 0;
    }

    /* æ­¥éª¤åˆ—è¡¨ */
    .step-list {
      list-style: none;
      margin: 16px 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .step-list li {
      display: flex;
      gap: 16px;
      align-items: flex-start;
    }

    .step-number {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      color: #fff;
      font-weight: 700;
      font-size: 14px;
      flex-shrink: 0;
    }

    .step-body {
      flex: 1;
      padding-top: 4px;
    }

    /* æ£€æŸ¥åˆ—è¡¨ */
    .checklist {
      list-style: none;
      margin: 12px 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .checklist li {
      position: relative;
      padding-left: 28px;
      color: var(--text-secondary);
    }

    .checklist li::before {
      content: "âœ“";
      position: absolute;
      left: 0;
      color: var(--accent-2);
      font-weight: 700;
      font-size: 16px;
    }

    /* ç½‘æ ¼å¸ƒå±€ */
    .grid {
      display: grid;
      gap: 20px;
      margin-bottom: 24px;
    }

    .grid.cols-2 {
      grid-template-columns: repeat(2, 1fr);
    }

    /* åº•éƒ¨ */
    .foot {
      margin-top: 48px;
      padding-top: 24px;
      border-top: 1px solid var(--border);
      color: var(--muted);
      font-size: 13px;
      text-align: center;
    }

    /* æœç´¢é«˜äº® */
    .search-highlight {
      background: rgba(255, 235, 59, 0.5);
      padding: 2px 4px;
      border-radius: 3px;
      font-weight: 500;
    }

    [data-theme="dark"] .search-highlight {
      background: rgba(246, 194, 68, 0.4);
    }

    /* ========== å“åº”å¼è®¾è®¡ ========== */
    @media (max-width: 1200px) {
      .toc {
        display: none;
      }
    }

    @media (max-width: 768px) {
      .navbar {
        padding: 0 16px;
      }

      .navbar-search {
        max-width: none;
        order: 3;
        flex-basis: 100%;
        margin-top: 8px;
      }

      .mobile-toggle {
        display: block;
      }

      .sidebar {
        position: fixed;
        left: -100%;
        top: var(--navbar-height);
        width: 80%;
        max-width: 300px;
        z-index: 999;
        transition: left 0.3s ease;
        box-shadow: var(--shadow-lg);
      }

      .sidebar.active {
        left: 0;
      }

      .content {
        padding: 24px 20px;
      }

      .grid.cols-2 {
        grid-template-columns: 1fr;
      }

      h2 {
        font-size: 20px;
      }

      h3 {
        font-size: 16px;
      }
    }

    /* æ»šåŠ¨æ¡æ ·å¼ */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }

    ::-webkit-scrollbar-track {
      background: var(--bg);
    }

    ::-webkit-scrollbar-thumb {
      background: var(--border);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--muted);
    }

    /* åŠ è½½åŠ¨ç”» */
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .card {
      animation: fadeIn 0.3s ease;
    }
  </style>
</head>
<body data-theme="dark">
  <!-- Changelog:
       2025-02-15 åˆå¹¶ Claude Code æ”¯æŒæ–‡æ¡£ä¸ Print Spooler è¯Šæ–­åˆ°å•é¡µå¹¶é‡æ–°æ•´ç†å¯¼èˆªã€‚
       2025-10-31 Add UI footer hints, usage metrics, FAQ, and Codex prompt.
       2025-11-01 é‡æ–°è®¾è®¡ä¸º Docusaurus + GitBook æ··åˆé£æ ¼çš„ä¸‰æ å¸ƒå±€ã€‚
  -->

  <div class="app-container">
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <nav class="navbar">
      <button class="mobile-toggle" id="mobileToggle">â˜°</button>
      <div class="navbar-brand">
        <div class="navbar-logo"></div>
        <span>Codex CLI é€ŸæŸ¥</span>
        <span style="font-size: 11px; color: #10b981; margin-left: 8px; font-weight: 600;">v2.1</span>
      </div>
      <div class="navbar-search">
        <input type="text" id="searchInput" placeholder="æœç´¢æ–‡æ¡£... (Ctrl+K)" />
      </div>
      <div class="navbar-actions">
        <button class="navbar-btn" id="toggleTheme">
          <span id="themeIcon">â˜€ï¸</span>
          <span>ä¸»é¢˜</span>
        </button>
      </div>
    </nav>

    <!-- ä¸»å†…å®¹åŒº -->
    <div class="main-wrapper">
      <!-- å·¦ä¾§è¾¹æ  -->
      <aside class="sidebar" id="sidebar">
        <div class="sidebar-content">
          <nav>
            <div class="nav-group">
              <div class="nav-group-title">Codex CLI</div>
              <div class="nav-links">
                <a href="#quickstart" class="nav-link">å¿«é€Ÿå¼€å§‹</a>
                <a href="#login" class="nav-link">ç™»å½•æ–¹å¼</a>
                <a href="#models" class="nav-link">æ¨¡å‹ä¸æ¨ç†</a>
                <a href="#approvals" class="nav-link">å®¡æ‰¹æ¨¡å¼</a>
                <a href="#usage" class="nav-link">å¸¸ç”¨ç”¨æ³•</a>
                <a href="#images" class="nav-link">å›¾åƒè¾“å…¥</a>
                <a href="#args" class="nav-link">å¸¸ç”¨å‚æ•°</a>
                <a href="#ui" class="nav-link">ç•Œé¢å¿«æ·é”®</a>
                <a href="#usage-metrics" class="nav-link">ç”¨é‡ä¸è®¢é˜…</a>
                <a href="#proxy" class="nav-link">ç½‘ç»œä¸ä»£ç†</a>
              </div>
            </div>

            <div class="nav-group">
              <div class="nav-group-title">Claude Code</div>
              <div class="nav-links">
                <a href="#claude-overview" class="nav-link">æ€»è§ˆè‡ªæ£€</a>
                <a href="#claude-quickstart" class="nav-link">å¿«é€Ÿå¼€å§‹</a>
                <a href="#claude-windows" class="nav-link">Windows å¸¸è§é—®é¢˜</a>
                <a href="#claude-auth" class="nav-link">è®¤è¯å¤„ç†</a>
                <a href="#claude-proxy" class="nav-link">ä»£ç†é…ç½®</a>
                <a href="#claude-cross" class="nav-link">è·¨å¹³å°æˆæƒ</a>
                <a href="#claude-cleanup" class="nav-link">æ¸…ç†é‡è£…</a>
                <a href="#claude-diagnosis" class="nav-link">è¯Šæ–­ä¸èµ„æº</a>
                <a href="#claude-errors" class="nav-link">é”™è¯¯ä»£ç é€ŸæŸ¥</a>
              </div>
            </div>

            <div class="nav-group">
              <div class="nav-group-title">ç³»ç»Ÿå·¥å…·</div>
              <div class="nav-links">
                <a href="#print-spooler" class="nav-link">Print Spooler è¯Šæ–­</a>
              </div>
            </div>

            <div class="nav-group">
              <div class="nav-group-title">ç»´æŠ¤</div>
              <div class="nav-links">
                <a href="#faq" class="nav-link">é—®é¢˜æ±‡æ€»</a>
                <a href="#aliases" class="nav-link">åˆ«åä¸ Profile</a>
                <a href="#codex-prompt" class="nav-link">ç»™ Codex çš„æç¤ºè¯</a>
              </div>
            </div>
          </nav>
        </div>
      </aside>

      <!-- ä¸­é—´å†…å®¹åŒº -->
      <main class="content" id="mainContent">
        <!-- é¢åŒ…å±‘å¯¼èˆª -->
        <div class="breadcrumb">
          <a href="#" onclick="scrollToTop()">é¦–é¡µ</a>
          <span class="breadcrumb-separator">â€º</span>
          <span class="breadcrumb-current" id="breadcrumbCurrent">Codex CLI</span>
        </div>

        <!-- Codex CLI éƒ¨åˆ† -->
        <section id="quickstart" class="card">
          <h2>ğŸš€ å¿«é€Ÿå¼€å§‹</h2>
          <div class="alert">å‰æï¼šå·²å®‰è£… Node.js / npmï¼Œä¸” <span class="kbd">npm config set prefix "%APPDATA%\\npm"</span>ã€‚</div>
          <div class="copy"><button data-copy="npm i -g @openai/codex">å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
          <pre><code>npm i -g @openai/codex</code></pre>
          <div class="copy"><button data-copy="codex --version">å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
          <pre><code>codex --version
# æœŸæœ›è¾“å‡ºï¼šcodex-cli 0.53.0</code></pre>
        </section>

        <section id="login" class="grid cols-2">
          <div class="card">
            <h2>ğŸ” ç™»å½•ï¼ˆChatGPT è´¦å·ï¼‰</h2>
            <p>é¦–æ¬¡è¿è¡Œ <span class="kbd">codex</span> æŒ‰æç¤ºç™»å½•ï¼ˆPlus / Pro / Team / Edu / Enterpriseï¼‰ã€‚</p>
            <div class="copy"><button data-copy="codex">å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
            <pre><code>codex</code></pre>
            <p class="muted">é…ç½®ä½äº <span class="kbd">%USERPROFILE%\\.codex\\</span>ã€‚</p>
          </div>
          <div class="card">
            <h2>ğŸ”‘ ç™»å½•ï¼ˆAPI Key æ¨¡å¼ï¼‰</h2>
            <div class="copy"><button data-copy="$env:OPENAI_API_KEY=&quot;sk-xxxx&quot;
codex --auth api">å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
            <pre><code>$env:OPENAI_API_KEY="sk-xxxx"
codex --auth api</code></pre>
            <p class="alert warn">API Key æ¨¡å¼é¢åº¦ä¸é€Ÿç‡å—ä½ çš„ API è´¦å·é™åˆ¶ã€‚</p>
          </div>
        </section>

        <section id="models" class="card">
          <h2>ğŸ§  æ¨¡å‹ä¸æ¨ç†å±‚çº§</h2>
          <table class="table">
            <thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead>
            <tbody>
              <tr><td><code>codex --model gpt-5</code></td><td>é»˜è®¤é€šç”¨æ¨¡å‹</td></tr>
              <tr><td><code>codex --model gpt-5-codex</code></td><td>ä¸ºä»£ç /ç³»ç»Ÿå‘½ä»¤ä¼˜åŒ–ï¼ˆæ¨èï¼‰</td></tr>
              <tr><td><code>codex --model gpt-4o-mini</code></td><td>è½»é‡å¿«é€Ÿæ¨¡å‹</td></tr>
              <tr><td><code>codex --model gpt-5-codex --reasoning high</code></td><td>é«˜æ¨ç†ï¼Œé€‚åˆå¤æ‚ä»»åŠ¡</td></tr>
            </tbody>
          </table>
          <div class="alert">æ¨èï¼š<span class="kbd">codex --model gpt-5-codex</span></div>
        </section>

        <section id="approvals" class="card">
          <h2>ğŸ›¡ï¸ å®¡æ‰¹æ¨¡å¼ï¼ˆæ‰§è¡Œæƒé™ï¼‰</h2>
          <table class="table">
            <thead><tr><th>æ¨¡å¼</th><th>å‘½ä»¤</th><th>ç”¨é€”</th></tr></thead>
            <tbody>
              <tr><td>è‡ªåŠ¨ï¼ˆé»˜è®¤ï¼‰</td><td><code>codex /approvals Auto</code></td><td>å¯è¯»å†™å·¥ç¨‹ç›®å½•å¹¶è¿è¡Œå‘½ä»¤ï¼›è¶Šæƒéœ€æˆæƒ</td></tr>
              <tr><td>åªè¯»ï¼ˆå®‰å…¨ï¼‰</td><td><code>codex /approvals ReadOnly</code></td><td>ä»…åˆ†æè§„åˆ’ï¼Œä¸ä¿®æ”¹æ–‡ä»¶</td></tr>
              <tr><td>å®Œå…¨è®¿é—®ï¼ˆè°¨æ…ï¼‰</td><td><code>codex /approvals Full</code></td><td>æ— éœ€ç¡®è®¤å³å¯è¯»å†™ä¸è”ç½‘</td></tr>
            </tbody>
          </table>
        </section>

        <section id="usage" class="grid cols-2">
          <div class="card">
            <h2>ğŸ’¬ æ—¥å¸¸ç”¨æ³•</h2>
            <div class="copy"><button data-copy="codex &quot;è§£é‡Šè¿™ä¸ª PowerShell è„šæœ¬æ˜¯å¹²å˜›çš„&quot;">å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
            <pre><code>codex "è§£é‡Šè¿™ä¸ª PowerShell è„šæœ¬æ˜¯å¹²å˜›çš„"</code></pre>
            <div class="copy"><button data-copy="codex &quot;ç”¨ PowerShell å†™ä¸€ä¸ªå®šæ—¶æ¸…ç†ä¸´æ—¶æ–‡ä»¶çš„è„šæœ¬&quot;">å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
            <pre><code>codex "ç”¨ PowerShell å†™ä¸€ä¸ªå®šæ—¶æ¸…ç†ä¸´æ—¶æ–‡ä»¶çš„è„šæœ¬"</code></pre>
          </div>
          <div class="card">
            <h2>ğŸ§° ä»£ç åˆ†æ / æ‰§è¡Œä»»åŠ¡</h2>
            <div class="copy"><button data-copy="codex &quot;Explain this codebase&quot;">å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
            <pre><code>codex "Explain this codebase"</code></pre>
            <div class="copy"><button data-copy="codex exec &quot;fix the CI pipeline error&quot;">å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
            <pre><code>codex exec "fix the CI pipeline error"</code></pre>
          </div>
        </section>

        <section id="images" class="card">
          <h2>ğŸ–¼ï¸ å›¾åƒè¾“å…¥</h2>
          <p>å¯ç²˜è´´å›¾ç‰‡åˆ°ç¼–è¾‘å™¨ï¼Œæˆ–åœ¨ CLI æŒ‡å®šæ–‡ä»¶ï¼š</p>
          <div class="copy"><button data-copy="codex -i error.png &quot;Explain this build error&quot;">å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
          <pre><code>codex -i error.png "Explain this build error"</code></pre>
          <div class="copy"><button data-copy="codex --image log1.png,log2.png &quot;Summarize what failed&quot;">å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
          <pre><code>codex --image log1.png,log2.png "Summarize what failed"</code></pre>
        </section>

        <section id="args" class="card">
          <h2>âš™ï¸ å¸¸ç”¨å‚æ•°</h2>
          <div class="kvs">
            <span class="chip">--model &lt;name&gt;</span>
            <span class="chip">--image &lt;file&gt;</span>
            <span class="chip">--auth api</span>
            <span class="chip">--reasoning low/medium/high</span>
            <span class="chip">--help</span>
          </div>
        </section>

        <section id="ui" class="card">
          <h2>âŒ¨ï¸ ç•Œé¢å¿«æ·é”®ä¸åº•éƒ¨æç¤º</h2>
          <ul>
            <li><span class="kbd">â†© send</span>ï¼š<span class="kbd">Enter</span> å‘é€æ¶ˆæ¯</li>
            <li><span class="kbd">Ctrl+J newline</span>ï¼šè¾“å…¥æ—¶æ¢è¡Œ</li>
            <li><span class="kbd">Ctrl+T transcript</span>ï¼šå¯¼å‡º/æŸ¥çœ‹ä¼šè¯è®°å½•</li>
            <li><span class="kbd">Ctrl+C quit</span>ï¼šé€€å‡º Codex</li>
          </ul>
          <p class="alert danger">è‹¥æ˜¾ç¤º"upgrade to Plus"çº¢å­—ï¼Œè¡¨ç¤ºå½“å‰è®¡åˆ’ä¸å«å…¨éƒ¨åŠŸèƒ½ã€‚å¯æ¢ API Key æ¨¡å¼æˆ–å‡çº§ ChatGPT è®¡åˆ’ã€‚</p>
        </section>

        <section id="usage-metrics" class="grid cols-2">
          <div class="card">
            <h2>ğŸ“Š æŸ¥çœ‹ç”¨é‡ï¼ˆToken Usageï¼‰</h2>
            <p>é¡¶éƒ¨/ä¾§è¾¹ä¼šæ˜¾ç¤º Session Token ç”¨é‡ã€‚è‹¥æç¤º "Send a message to load usage data."ï¼Œè¯·å…ˆå‘é€ä»»æ„æ¶ˆæ¯ï¼š</p>
            <div class="copy"><button data-copy="ä½ æ˜¯è°ï¼Œä½ èƒ½åšä»€ä¹ˆ">å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
            <pre><code>ä½ æ˜¯è°ï¼Œä½ èƒ½åšä»€ä¹ˆ</code></pre>
          </div>
          <div class="card">
            <h2>ğŸ§¾ è®¢é˜…ä¸æƒé™</h2>
            <ul>
              <li>Plus/Pro/Team/Edu/Enterprise å…·å¤‡æ›´å®Œæ•´çš„ Codex åŠŸèƒ½ã€‚</li>
              <li>API Key æ¨¡å¼é¢åº¦å–å†³äºä½ çš„ API è´¦æˆ·ã€‚</li>
            </ul>
          </div>
        </section>

        <section id="proxy" class="grid cols-2">
          <div class="card">
            <h2>ğŸŒ ä»£ç†ä¸ç½‘ç»œï¼ˆClash Vergeï¼‰</h2>
            <ul>
              <li>å¯ç”¨ç³»ç»Ÿä»£ç†æˆ– TUNï¼›OpenAI åŸŸåå‘½ä¸­ <span class="kbd">ğŸ’¬ OpenAi â†’ ğŸ”— é“¾å¼ä»£ç†</span>ã€‚</li>
              <li>åˆ‡æ¢ç­–ç•¥åæ‰§è¡Œ <span class="kbd">ipconfig /flushdns</span> å¹¶åœ¨ Verge é‡Œé‡è½½é…ç½®ã€‚</li>
            </ul>
            <div class="copy"><button data-copy="curl https://api.ipify.org
curl https://ipapi.co/json">å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
            <pre><code>curl https://api.ipify.org
curl https://ipapi.co/json</code></pre>
          </div>
          <div class="card">
            <h2>ğŸ§± npm/ç³»ç»Ÿä»£ç†è®¾ç½®</h2>
            <div class="copy"><button data-copy="npm config set proxy http://127.0.0.1:7897
npm config set https-proxy http://127.0.0.1:7897
npm ping">å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
            <pre><code>npm config set proxy http://127.0.0.1:7897
npm config set https-proxy http://127.0.0.1:7897
npm ping</code></pre>
          </div>
        </section>

        <section id="faq" class="card">
          <h2>â“ å¸¸è§é—®é¢˜æ±‡æ€»ï¼ˆæœ¬æ¬¡å¯¹è¯è¦ç‚¹ï¼‰</h2>
          <ol>
            <li>Windows æ‰¾ä¸åˆ° <code>codex</code>ï¼šæŠŠ <span class="kbd">%APPDATA%\\npm</span> åŠ å…¥ç”¨æˆ· PATHï¼Œæˆ–åœ¨ <span class="kbd">$PROFILE</span> é‡Œè‡ªæ£€è¡¥ PATHã€‚</li>
            <li>npm åŒ… <code>openai-codex-cli</code> ä¸å­˜åœ¨ï¼šæ­£ç¡®åŒ…åä¸º <span class="kbd">@openai/codex</span>ã€‚</li>
            <li>PowerShell çš„ <code>where</code> å®é™…æ˜¯è¿‡æ»¤å™¨ï¼›è¯·ç”¨ <span class="kbd">Get-Command codex</span> æˆ– <span class="kbd">where.exe codex</span> æ£€æŸ¥è·¯å¾„ã€‚</li>
            <li>WSL2 å¿˜è®°å¯†ç ï¼šç”¨ <span class="kbd">wsl -u root</span> è¿›å…¥é‡ç½® <span class="kbd">passwd &lt;user&gt;</span>ã€‚</li>
            <li>æƒ³é•¿æœŸç»´æŠ¤è¿™ä»½ HTMLï¼šè§ä¸‹èŠ‚"ç»™ Codex çš„æç¤ºè¯"ã€‚</li>
          </ol>
        </section>

        <section id="aliases" class="card">
          <h2>ğŸ§ª å»ºè®®æ·»åŠ çš„åˆ«åï¼ˆ$PROFILEï¼‰</h2>
          <div class="copy"><button data-copy='Set-Alias cx codex
Set-Alias cxc "codex --model gpt-5-codex"
Set-Alias cxf "codex /approvals Full"
Set-Alias cxo "codex /approvals ReadOnly"'>å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
          <pre><code>Set-Alias cx codex
Set-Alias cxc "codex --model gpt-5-codex"
Set-Alias cxf "codex /approvals Full"
Set-Alias cxo "codex /approvals ReadOnly"</code></pre>
        </section>

        <section id="codex-prompt" class="card">
          <h2>ğŸ§© ç»™ Codex çš„æç¤ºè¯ï¼ˆè‡ªåŠ¨ç»´æŠ¤æœ¬ HTML çŸ¥è¯†åº“ï¼‰</h2>
          <p>æŠŠä¸‹é¢ Prompt ç²˜è´´åˆ° Codexï¼ˆå»ºè®®å…ˆ ReadOnly é¢„è§ˆï¼‰ï¼š</p>
          <div class="copy"><button data-copy='You are my personal docs maintainer for a single-file HTML knowledge base named "codex-cli-cheatsheet.html".
Goals:
1) Merge any new notes/HTML I provide into the file.
2) Preserve current structure, anchors, styles, copy buttons, and theme toggle.
3) Add sections when needed: UI hints, usage metrics, proxies, WSL, FAQs.
4) Do not delete working commands; deprecate with a small note instead.
5) Keep content in Chinese with concise tables and code blocks.
6) Return the full updated HTML for me to overwrite the file.

Rules:
- Make minimal visual changes; keep existing CSS and layout.
- Ensure examples are accurate; mark untested ones as examples.
- When I say "merge another HTML", extract and integrate relevant parts, deduplicate overlaps.
- Keep a "Changelog" HTML comment at the top with date and summary.
- If ambiguous, choose a safe default and proceed.

Tasks now:
- Review my latest notes/questions.
- Update Windows/WSL setup, proxies, npm prefix/PATH, approvals, models, images, and usage metrics.
- Keep copy buttons working (data-copy attributes).
- Return the final HTML content only.'>å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
          <pre><code>You are my personal docs maintainer for a single-file HTML knowledge base named "codex-cli-cheatsheet.html".
Goals:
1) Merge any new notes/HTML I provide into the file.
2) Preserve current structure, anchors, styles, copy buttons, and theme toggle.
3) Add sections when needed: UI hints, usage metrics, proxies, WSL, FAQs.
4) Do not delete working commands; deprecate with a small note instead.
5) Keep content in Chinese with concise tables and code blocks.
6) Return the full updated HTML for me to overwrite the file.

Rules:
- Make minimal visual changes; keep existing CSS and layout.
- Ensure examples are accurate; mark untested ones as examples.
- When I say "merge another HTML", extract and integrate relevant parts, deduplicate overlaps.
- Keep a "Changelog" HTML comment at the top with date and summary.
- If ambiguous, choose a safe default and proceed.

Tasks now:
- Review my latest notes/questions.
- Update Windows/WSL setup, proxies, npm prefix/PATH, approvals, models, images, and usage metrics.
- Keep copy buttons working (data-copy attributes).
- Return the final HTML content only.</code></pre>
        </section>

        <!-- Claude Code éƒ¨åˆ† -->
        <section id="claude-overview" class="card">
          <h2>ğŸ“Š Claude Code æ€»è§ˆè‡ªæ£€</h2>
          <div class="alert primary">
            <strong>âš¡ å¿«é€Ÿè‡ªæ£€æ¸…å•ï¼š</strong>
            <ol>
              <li>Node.js ç‰ˆæœ¬æ˜¯å¦ â‰¥ 16.0ï¼Ÿè¿è¡Œ <span class="kbd">node --version</span></li>
              <li>Claude Code æ˜¯å¦æœ€æ–°ç‰ˆï¼Ÿè¿è¡Œ <span class="kbd">claude-code --version</span></li>
              <li>ä»£ç†è®¾ç½®æ˜¯å¦æ­£ç¡®ï¼Ÿæ£€æŸ¥ HTTP_PROXY å’Œ HTTPS_PROXY</li>
              <li>æ˜¯å¦æ··æ·†äº† Claude.ai è®¢é˜…å’Œ Claude APIï¼Ÿ</li>
              <li>Windows ç”¨æˆ·æ˜¯å¦æ·»åŠ äº† .cmd æ‰©å±•åï¼Ÿ</li>
            </ol>
          </div>
          <h3>ğŸ¯ ä¸‰ç§äº§å“çš„åŒºåˆ«</h3>
          <table class="table">
            <thead>
              <tr>
                <th>äº§å“</th>
                <th>ç”¨é€”</th>
                <th>è®¤è¯æ–¹å¼</th>
                <th>è´¹ç”¨</th>
                <th>ä½¿ç”¨é™åˆ¶</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Claude.ai</strong></td>
                <td>ç½‘é¡µå¯¹è¯</td>
                <td>é‚®ç®±è´¦å·</td>
                <td>å…è´¹/$20/æœˆ</td>
                <td>æ¶ˆæ¯æ•°é™åˆ¶</td>
              </tr>
              <tr>
                <td><strong>Claude API</strong></td>
                <td>å¼€å‘é›†æˆ</td>
                <td>API Key</td>
                <td>æŒ‰ä½¿ç”¨é‡</td>
                <td>é€Ÿç‡é™åˆ¶</td>
              </tr>
              <tr>
                <td><strong>Claude Code</strong></td>
                <td>ç¼–ç¨‹åŠ©æ‰‹</td>
                <td>OAuth/API Key</td>
                <td>ä¾èµ–ä¸Šè¿°æœåŠ¡</td>
                <td>å–å†³äºåç«¯</td>
              </tr>
            </tbody>
          </table>
        </section>

        <section id="claude-quickstart" class="card">
          <h2>ğŸ¯ Claude Code å¿«é€Ÿå¼€å§‹</h2>
          <div class="alert warn">
            <strong>âš ï¸ é‡è¦æé†’ï¼š</strong>
            <ul>
              <li>å¦‚æœä¹‹å‰ä½¿ç”¨è¿‡ Claude Codeï¼Œå¿…é¡»å…ˆæ‰§è¡Œ <span class="kbd">claude logout</span></li>
              <li>Claude.ai è®¢é˜…è´¦å·å’Œ Claude API æ˜¯ä¸¤ä¸ªä¸åŒçš„äº§å“</li>
              <li>å»ºè®®ä½¿ç”¨ç¾åŒºä»£ç†</li>
            </ul>
          </div>
          <h3>å®Œæ•´å®‰è£…æµç¨‹</h3>
          <ol class="step-list">
            <li>
              <div class="step-number">1</div>
              <div class="step-body">
                <strong>å®‰è£… Node.js</strong>ï¼ˆè¦æ±‚ç‰ˆæœ¬ â‰¥ 16.0ï¼‰
                <div class="copy"><button data-copy="node --version
npm --version">å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
                <pre><code>node --version
npm --version</code></pre>
              </div>
            </li>
            <li>
              <div class="step-number">2</div>
              <div class="step-body">
                <strong>å®‰è£… Claude Code</strong>
                <div class="copy"><button data-copy="npm install -g @anthropic-ai/claude-code">å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
                <pre><code><span class="comment"># å…¨å±€å®‰è£…</span>
npm install -g @anthropic-ai/claude-code

<span class="comment"># ä¸­å›½ç”¨æˆ·å¯ä½¿ç”¨é•œåƒ</span>
npm install -g @anthropic-ai/claude-code --registry https://registry.npmmirror.com</code></pre>
              </div>
            </li>
            <li>
              <div class="step-number">3</div>
              <div class="step-body">
                <strong>é…ç½®è®¤è¯</strong>
                <div class="copy"><button data-copy="claude-code auth">å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
                <pre><code><span class="comment"># OAuth è®¤è¯ï¼ˆä½¿ç”¨ Claude.ai è´¦å·ï¼‰</span>
claude-code auth

<span class="comment"># æˆ–ä½¿ç”¨ API Key</span>
claude-code config set apiKey sk-ant-api03-YOUR-KEY</code></pre>
              </div>
            </li>
          </ol>
        </section>

        <section id="claude-windows" class="card">
          <h2>ğŸ’» Claude Code Windows å¸¸è§é—®é¢˜</h2>
          <h3>1. å‘½ä»¤æ— æ³•è¯†åˆ«é—®é¢˜</h3>
          <div class="alert danger">
            <strong>é”™è¯¯ï¼š</strong>'claude-code' ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤
          </div>
          <h4>è§£å†³æ–¹æ¡ˆAï¼šä½¿ç”¨å®Œæ•´è·¯å¾„ï¼ˆä¸´æ—¶ï¼‰</h4>
          <div class="copy"><button data-copy='C:\Users\%USERNAME%\AppData\Roaming\npm\claude-code.cmd --version'>å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
          <pre><code><span class="comment"># Windows éœ€è¦æ·»åŠ  .cmd æ‰©å±•å</span>
C:\Users\%USERNAME%\AppData\Roaming\npm\claude-code.cmd --version</code></pre>
          <h4>è§£å†³æ–¹æ¡ˆBï¼šæ·»åŠ åˆ° PATHï¼ˆæ°¸ä¹…ï¼‰</h4>
          <div class="copy"><button data-copy='[Environment]::SetEnvironmentVariable("Path", "$env:Path;C:\Users\$env:USERNAME\AppData\Roaming\npm", [EnvironmentVariableTarget]::User)'>å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
          <pre><code><span class="comment"># PowerShell ç®¡ç†å‘˜æ¨¡å¼</span>
[Environment]::SetEnvironmentVariable(
    "Path",
    "$env:Path;C:\Users\$env:USERNAME\AppData\Roaming\npm",
    [EnvironmentVariableTarget]::User
)</code></pre>
          <h4>è§£å†³æ–¹æ¡ˆCï¼šåˆ›å»ºåˆ«åï¼ˆæ¨èï¼‰</h4>
          <div class="copy"><button data-copy='notepad $PROFILE'>å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
          <pre><code><span class="comment"># ç¼–è¾‘ PowerShell Profile</span>
notepad $PROFILE

<span class="comment"># æ·»åŠ ä»¥ä¸‹å†…å®¹</span>
Set-Alias claude "C:\Users\$env:USERNAME\AppData\Roaming\npm\claude-code.cmd"

<span class="comment"># ä¿å­˜åé‡æ–°åŠ è½½</span>
. $PROFILE</code></pre>
          <h3>2. PowerShell æ‰§è¡Œç­–ç•¥é—®é¢˜</h3>
          <div class="alert warn">å¦‚æœé‡åˆ° "æ— æ³•åŠ è½½æ–‡ä»¶ï¼Œå› ä¸ºåœ¨æ­¤ç³»ç»Ÿä¸Šç¦æ­¢è¿è¡Œè„šæœ¬"</div>
          <div class="copy"><button data-copy='Get-ExecutionPolicy
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser'>å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
          <pre><code><span class="comment"># æŸ¥çœ‹å½“å‰æ‰§è¡Œç­–ç•¥</span>
Get-ExecutionPolicy

<span class="comment"># è®¾ç½®æ‰§è¡Œç­–ç•¥</span>
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser</code></pre>
        </section>

        <section id="claude-auth" class="card">
          <h2>ğŸ” Claude Code è®¤è¯å¤„ç†</h2>
          <h3>1. API Key æ ¼å¼é”™è¯¯ (401)</h3>
          <div class="alert danger">
            <strong>é”™è¯¯ï¼š</strong>401 Invalid API key format
          </div>
          <div class="alert info">
            <strong>é‡è¦è¯´æ˜ï¼š</strong>
            <ul>
              <li>Claude.ai Pro/Team è®¢é˜… â‰  Claude API</li>
              <li>ç½‘é¡µç‰ˆè®¢é˜…ä¸èƒ½ç›´æ¥ç”¨ä½œ API Key</li>
              <li>éœ€è¦åœ¨ console.anthropic.com å•ç‹¬ç”³è¯· API</li>
            </ul>
          </div>
          <h4>æ­£ç¡®çš„è®¤è¯æ–¹å¼é€‰æ‹©ï¼š</h4>
          <table class="table">
            <thead>
              <tr>
                <th>ä½ æœ‰ä»€ä¹ˆï¼Ÿ</th>
                <th>ä½¿ç”¨æ–¹å¼</th>
                <th>å‘½ä»¤</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Claude.ai Pro è®¢é˜…</td>
                <td>OAuth è®¤è¯</td>
                <td><code>claude-code auth</code></td>
              </tr>
              <tr>
                <td>Claude API Key</td>
                <td>API è®¤è¯</td>
                <td><code>claude-code config set apiKey sk-ant-...</code></td>
              </tr>
              <tr>
                <td>éƒ½æ²¡æœ‰</td>
                <td>ç”³è¯· API</td>
                <td>è®¿é—® console.anthropic.com</td>
              </tr>
            </tbody>
          </table>
          <h3>2. OAuth Token æ’¤é”€é—®é¢˜</h3>
          <div class="copy"><button data-copy='claude-code auth logout
claude-code auth'>å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
          <pre><code><span class="comment"># æ¸…é™¤æ—§çš„è®¤è¯ä¿¡æ¯</span>
claude-code auth logout

<span class="comment"># é‡æ–°è®¤è¯</span>
claude-code auth</code></pre>
        </section>

        <section id="claude-proxy" class="card">
          <h2>ğŸŒ Claude Code ä»£ç†é…ç½®</h2>
          <div class="alert info">
            <strong>ğŸ’¡ æç¤ºï¼š</strong>ä»£ç†è®¾ç½®å¯èƒ½å½±å“ OAuth è®¤è¯ï¼Œå»ºè®®è®¤è¯æ—¶ä¸´æ—¶ç¦ç”¨ä»£ç†
          </div>
          <h3>Windows ä»£ç†é…ç½®</h3>
          <div class="copy"><button data-copy='$env:HTTP_PROXY="http://127.0.0.1:10809"
$env:HTTPS_PROXY="http://127.0.0.1:10809"'>å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
          <pre><code><span class="comment"># PowerShell ä¸´æ—¶è®¾ç½®</span>
$env:HTTP_PROXY="http://127.0.0.1:10809"
$env:HTTPS_PROXY="http://127.0.0.1:10809"</code></pre>
          <h3>Mac/Linux ä»£ç†é…ç½®</h3>
          <div class="copy"><button data-copy='export HTTP_PROXY="http://127.0.0.1:1087"
export HTTPS_PROXY="http://127.0.0.1:1087"'>å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
          <pre><code>export HTTP_PROXY="http://127.0.0.1:1087"
export HTTPS_PROXY="http://127.0.0.1:1087"</code></pre>

          <h3>PowerShell ä»£ç†ç®¡ç†è„šæœ¬ï¼ˆæ¨èï¼‰<span class="tag-new">ğŸ“Œ æ–°å¢ 2025-11-06</span></h3>
          <div class="alert info">
            <strong>ğŸ’¡ é€‚ç”¨åœºæ™¯ï¼š</strong>è§£å†³ä»£ç†ç«¯å£å˜æ›´å¯¼è‡´ Claude Codeã€npmã€git è¿æ¥å¤±è´¥çš„é—®é¢˜
          </div>

          <h4>å¸¸è§é—®é¢˜</h4>
          <p>å½“ä»£ç†ç«¯å£ä» 7897 æ›´æ”¹ä¸º 10809 æ—¶ï¼Œå¦‚æœç¯å¢ƒå˜é‡æœªåŒæ­¥æ›´æ–°ï¼Œä¼šå¯¼è‡´ Claude Code æŠ¥é”™ï¼š<code>Unable to connect to API due to poor internet connection</code></p>

          <h4>ä¸€é”®ä»£ç†ç®¡ç†è„šæœ¬</h4>
          <p>å°†ä»¥ä¸‹è„šæœ¬æ·»åŠ åˆ° PowerShell é…ç½®æ–‡ä»¶ï¼ˆ<code>$PROFILE</code>ï¼‰ä¸­ï¼š</p>
          <div class="copy"><button data-copy='# è®¾ç½®ä»£ç†ï¼ˆç³»ç»Ÿ + npm + gitï¼‰
function Set-Proxy {
    param([Parameter(Mandatory=$true)][int]$Port)
    $proxyUrl = "http://127.0.0.1:$Port"
    $env:HTTP_PROXY = $proxyUrl
    $env:HTTPS_PROXY = $proxyUrl
    [System.Environment]::SetEnvironmentVariable("HTTP_PROXY", $proxyUrl, "User")
    [System.Environment]::SetEnvironmentVariable("HTTPS_PROXY", $proxyUrl, "User")
    npm config set proxy $proxyUrl 2>$null
    npm config set https-proxy $proxyUrl 2>$null
    git config --global http.proxy $proxyUrl 2>$null
    git config --global https.proxy $proxyUrl 2>$null
    Write-Host "âœ“ ä»£ç†å·²è®¾ç½®ä¸º: $proxyUrl" -ForegroundColor Green
}

# æŸ¥çœ‹å½“å‰ä»£ç†è®¾ç½®
function Get-Proxy {
    Write-Host "`nå½“å‰ä»£ç†é…ç½®:" -ForegroundColor Cyan
    Write-Host "  ç³»ç»Ÿ: $env:HTTP_PROXY"
    Write-Host "  npm: $(npm config get proxy 2>$null)"
    Write-Host "  git: $(git config --global --get http.proxy 2>$null)"
}

# æ¸…é™¤æ‰€æœ‰ä»£ç†è®¾ç½®
function Clear-Proxy {
    $env:HTTP_PROXY = $null
    $env:HTTPS_PROXY = $null
    [System.Environment]::SetEnvironmentVariable("HTTP_PROXY", $null, "User")
    [System.Environment]::SetEnvironmentVariable("HTTPS_PROXY", $null, "User")
    npm config delete proxy 2>$null
    npm config delete https-proxy 2>$null
    git config --global --unset http.proxy 2>$null
    git config --global --unset https.proxy 2>$null
    Write-Host "âœ“ æ‰€æœ‰ä»£ç†é…ç½®å·²æ¸…é™¤" -ForegroundColor Green
}

# å¸¸ç”¨ç«¯å£å¿«æ·å‘½ä»¤
function proxy7890 { Set-Proxy 7890 }   # Clash é»˜è®¤
function proxy7897 { Set-Proxy 7897 }   # Clash Meta
function proxy10809 { Set-Proxy 10809 } # V2Ray é»˜è®¤
function proxy1080 { Set-Proxy 1080 }   # Shadowsocks é»˜è®¤'>å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
          <pre><code><span class="comment"># è®¾ç½®ä»£ç†ï¼ˆç³»ç»Ÿ + npm + gitï¼‰</span>
function Set-Proxy {
    param([Parameter(Mandatory=$true)][int]$Port)
    $proxyUrl = "http://127.0.0.1:$Port"
    $env:HTTP_PROXY = $proxyUrl
    $env:HTTPS_PROXY = $proxyUrl
    [System.Environment]::SetEnvironmentVariable("HTTP_PROXY", $proxyUrl, "User")
    [System.Environment]::SetEnvironmentVariable("HTTPS_PROXY", $proxyUrl, "User")
    npm config set proxy $proxyUrl 2>$null
    npm config set https-proxy $proxyUrl 2>$null
    git config --global http.proxy $proxyUrl 2>$null
    git config --global https.proxy $proxyUrl 2>$null
    Write-Host "âœ“ ä»£ç†å·²è®¾ç½®ä¸º: $proxyUrl" -ForegroundColor Green
}

<span class="comment"># æŸ¥çœ‹å½“å‰ä»£ç†è®¾ç½®</span>
function Get-Proxy {
    Write-Host "`nå½“å‰ä»£ç†é…ç½®:" -ForegroundColor Cyan
    Write-Host "  ç³»ç»Ÿ: $env:HTTP_PROXY"
    Write-Host "  npm: $(npm config get proxy 2>$null)"
    Write-Host "  git: $(git config --global --get http.proxy 2>$null)"
}

<span class="comment"># æ¸…é™¤æ‰€æœ‰ä»£ç†è®¾ç½®</span>
function Clear-Proxy {
    $env:HTTP_PROXY = $null
    $env:HTTPS_PROXY = $null
    [System.Environment]::SetEnvironmentVariable("HTTP_PROXY", $null, "User")
    [System.Environment]::SetEnvironmentVariable("HTTPS_PROXY", $null, "User")
    npm config delete proxy 2>$null
    npm config delete https-proxy 2>$null
    git config --global --unset http.proxy 2>$null
    git config --global --unset https.proxy 2>$null
    Write-Host "âœ“ æ‰€æœ‰ä»£ç†é…ç½®å·²æ¸…é™¤" -ForegroundColor Green
}

<span class="comment"># å¸¸ç”¨ç«¯å£å¿«æ·å‘½ä»¤</span>
function proxy7890 { Set-Proxy 7890 }   <span class="comment"># Clash é»˜è®¤</span>
function proxy7897 { Set-Proxy 7897 }   <span class="comment"># Clash Meta</span>
function proxy10809 { Set-Proxy 10809 } <span class="comment"># V2Ray é»˜è®¤</span>
function proxy1080 { Set-Proxy 1080 }   <span class="comment"># Shadowsocks é»˜è®¤</span></code></pre>

          <h4>ä½¿ç”¨æ–¹æ³•</h4>
          <div class="copy"><button data-copy='# 1. ç¼–è¾‘é…ç½®æ–‡ä»¶
notepad $PROFILE

# 2. å°†ä¸Šè¿°è„šæœ¬ç²˜è´´åˆ°æ–‡ä»¶ä¸­å¹¶ä¿å­˜

# 3. é‡æ–°åŠ è½½é…ç½®
. $PROFILE

# 4. ä½¿ç”¨å¿«æ·å‘½ä»¤è®¾ç½®ä»£ç†
proxy10809

# 5. æŸ¥çœ‹å½“å‰ä»£ç†é…ç½®
Get-Proxy

# 6. æ¸…é™¤ä»£ç†
Clear-Proxy'>å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
          <pre><code><span class="comment"># 1. ç¼–è¾‘é…ç½®æ–‡ä»¶</span>
notepad $PROFILE

<span class="comment"># 2. å°†ä¸Šè¿°è„šæœ¬ç²˜è´´åˆ°æ–‡ä»¶ä¸­å¹¶ä¿å­˜</span>

<span class="comment"># 3. é‡æ–°åŠ è½½é…ç½®</span>
. $PROFILE

<span class="comment"># 4. ä½¿ç”¨å¿«æ·å‘½ä»¤è®¾ç½®ä»£ç†</span>
proxy10809

<span class="comment"># 5. æŸ¥çœ‹å½“å‰ä»£ç†é…ç½®</span>
Get-Proxy

<span class="comment"># 6. æ¸…é™¤ä»£ç†</span>
Clear-Proxy</code></pre>

          <h4>å¸¸ç”¨ä»£ç†ç«¯å£å‚è€ƒ</h4>
          <table class="table">
            <thead>
              <tr>
                <th>å·¥å…·</th>
                <th>é»˜è®¤ç«¯å£</th>
                <th>å¿«æ·å‘½ä»¤</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Clash</td>
                <td>7890</td>
                <td><code>proxy7890</code></td>
              </tr>
              <tr>
                <td>Clash Meta</td>
                <td>7897</td>
                <td><code>proxy7897</code></td>
              </tr>
              <tr>
                <td>V2Ray / V2RayN</td>
                <td>10809</td>
                <td><code>proxy10809</code></td>
              </tr>
              <tr>
                <td>Shadowsocks</td>
                <td>1080</td>
                <td><code>proxy1080</code></td>
              </tr>
            </tbody>
          </table>

          <div class="alert warn">
            <strong>âš ï¸ é‡è¦æç¤ºï¼š</strong>
            <ul>
              <li>ç¯å¢ƒå˜é‡çš„æ°¸ä¹…è®¾ç½®éœ€è¦é‡å¯åº”ç”¨/ç»ˆç«¯æ‰èƒ½ç”Ÿæ•ˆ</li>
              <li>ç³»ç»Ÿä»£ç†ã€npm ä»£ç†ã€git ä»£ç†å„è‡ªç‹¬ç«‹ï¼Œéœ€åˆ†åˆ«é…ç½®</li>
              <li>ä½¿ç”¨è„šæœ¬å¯ä»¥ä¸€é”®å®Œæˆæ‰€æœ‰é…ç½®ï¼Œé¿å…é—æ¼</li>
            </ul>
          </div>
        </section>

        <section id="claude-cross" class="card">
          <h2>ğŸ”„ Claude Code è·¨å¹³å°æˆæƒ</h2>
          <div class="alert info">
            <strong>åœºæ™¯ï¼š</strong>éœ€è¦åœ¨ä¸åŒåœ°ç†ä½ç½®çš„ç”µè„‘ä¸Šè¿›è¡Œæˆæƒ
          </div>
          <h3>è§£å†³æ–¹æ¡ˆ1ï¼šæ‰‹åŠ¨æˆæƒæ¨¡å¼</h3>
          <div class="copy"><button data-copy='claude-code auth --manual'>å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
          <pre><code><span class="comment"># ä½¿ç”¨æ‰‹åŠ¨æ¨¡å¼</span>
claude-code auth --manual

<span class="comment"># å®Œæˆæˆæƒåï¼Œå¤åˆ¶æµè§ˆå™¨åœ°å€æ çš„å›è°ƒ URL</span></code></pre>
          <h3>è§£å†³æ–¹æ¡ˆ2ï¼šä½¿ç”¨ API Keyï¼ˆæ¨èï¼‰</h3>
          <div class="copy"><button data-copy='claude-code config set apiKey sk-ant-api03-YOUR-KEY'>å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
          <pre><code><span class="comment"># é¿å… OAuth çš„å¤æ‚æ€§ï¼Œç›´æ¥ä½¿ç”¨ API Key</span>
claude-code config set apiKey sk-ant-api03-YOUR-KEY</code></pre>
        </section>

        <section id="claude-cleanup" class="card">
          <h2>ğŸ§¹ Claude Code æ¸…ç†é‡è£…</h2>
          <div class="alert warn">
            <strong>ä½•æ—¶éœ€è¦å®Œå…¨æ¸…ç†ï¼š</strong>
            <ul>
              <li>é…ç½®äº†ç¬¬ä¸‰æ–¹ API æƒ³æ¢å¤å®˜æ–¹æœåŠ¡</li>
              <li>æŒç»­è®¤è¯å¤±è´¥</li>
              <li>é…ç½®æ–‡ä»¶æŸå</li>
            </ul>
          </div>
          <h3>Windows å¿«é€Ÿæ¸…ç†</h3>
          <div class="copy"><button data-copy='npm uninstall -g @anthropic-ai/claude-code
npm cache clean --force
npm install -g @anthropic-ai/claude-code'>å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
          <pre><code>npm uninstall -g @anthropic-ai/claude-code
npm cache clean --force
npm install -g @anthropic-ai/claude-code</code></pre>
        </section>

        <section id="claude-diagnosis" class="card">
          <h2>ğŸ” Claude Code è¯Šæ–­ä¸èµ„æº</h2>
          <h3>å¿«é€Ÿè¯Šæ–­å‘½ä»¤</h3>
          <div class="copy"><button data-copy='claude-code --version
claude-code auth status
claude-code config list'>å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
          <pre><code><span class="comment"># ç‰ˆæœ¬ä¿¡æ¯</span>
claude-code --version
node --version
npm --version

<span class="comment"># è®¤è¯çŠ¶æ€</span>
claude-code auth status

<span class="comment"># é…ç½®ä¿¡æ¯</span>
claude-code config list</code></pre>
          <h3>å®˜æ–¹é“¾æ¥</h3>
          <table class="table">
            <thead>
              <tr>
                <th>èµ„æº</th>
                <th>é“¾æ¥</th>
                <th>ç”¨é€”</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Claude.ai</td>
                <td>claude.ai</td>
                <td>ç½‘é¡µç‰ˆå¯¹è¯</td>
              </tr>
              <tr>
                <td>API Console</td>
                <td>console.anthropic.com</td>
                <td>API Key ç®¡ç†</td>
              </tr>
              <tr>
                <td>å®˜æ–¹æ–‡æ¡£</td>
                <td>docs.anthropic.com</td>
                <td>API æ–‡æ¡£</td>
              </tr>
            </tbody>
          </table>
        </section>

        <section id="claude-errors" class="card">
          <h2>âŒ Claude Code é”™è¯¯ä»£ç é€ŸæŸ¥</h2>
          <h3>401 Unauthorized - æœªæˆæƒ</h3>
          <div class="alert danger">API Error: 401 Unauthorized</div>
          <ul class="checklist">
            <li>æ£€æŸ¥ API Key æ ¼å¼ï¼šå¿…é¡»ä»¥ <code>sk-ant-api03-</code> å¼€å¤´</li>
            <li>éªŒè¯è´¦å·æ˜¯å¦æœ‰æ•ˆä¸”æœ‰ä½™é¢/è®¢é˜…</li>
            <li>ç¡®è®¤ä½¿ç”¨æ­£ç¡®çš„è®¤è¯æ–¹å¼ï¼ˆOAuth vs API Keyï¼‰</li>
          </ul>

          <h4>Anyrouter ç¬¬ä¸‰æ–¹ API é…ç½®è¯¦è§£<span class="tag-new">ğŸ“Œ æ–°å¢ 2025-11-06</span></h4>
          <div class="alert info">
            <strong>ğŸ’¡ é€‚ç”¨åœºæ™¯ï¼š</strong>ä½¿ç”¨ Anyrouter ç­‰ç¬¬ä¸‰æ–¹ API æœåŠ¡æ—¶å‡ºç° 401 æ— æ•ˆä»¤ç‰Œé”™è¯¯
          </div>

          <p><strong>å…¸å‹é”™è¯¯ä¿¡æ¯ï¼š</strong></p>
          <div class="alert danger">
            <code>401 {"error":{"code":"","message":"æ— æ•ˆçš„ä»¤ç‰Œ (request id: xxx)","type":"new_api_error"}}</code>
          </div>

          <p><strong>æ ¹æœ¬åŸå› ï¼š</strong>Claude Code åœ¨ Windows ç¯å¢ƒä¸‹æœªèƒ½æ­£ç¡®è¯»å–åˆ° API è®¤è¯ä¿¡æ¯</p>

          <h4>è§£å†³æ–¹æ¡ˆ1ï¼šç³»ç»Ÿç¯å¢ƒå˜é‡ï¼ˆâ­æ¨èï¼Œæ°¸ä¹…æœ‰æ•ˆï¼‰</h4>

          <p><strong>æ­¥éª¤1ï¼šè·å– API å¯†é’¥</strong></p>
          <ol class="step-list">
            <li>
              <div class="step-number">1</div>
              <div class="step-body">è®¿é—® <a href="https://anyrouter.top" target="_blank">https://anyrouter.top</a> å¹¶ç™»å½•è´¦æˆ·</div>
            </li>
            <li>
              <div class="step-number">2</div>
              <div class="step-body">å¯¼èˆªè‡³ <strong>"APIä»¤ç‰Œ"</strong> â†’ <strong>"æ·»åŠ ä»¤ç‰Œ"</strong></div>
            </li>
            <li>
              <div class="step-number">3</div>
              <div class="step-body">
                é…ç½®å‚æ•°ï¼š
                <ul>
                  <li>æœ‰æ•ˆæœŸï¼š<strong>æ°¸ä¸è¿‡æœŸ</strong></li>
                  <li>é¢åº¦ï¼š<strong>æ— é™é¢åº¦</strong>ï¼ˆé»˜è®¤ $1 é¢åº¦å¤ªå°‘ï¼‰</li>
                </ul>
              </div>
            </li>
            <li>
              <div class="step-number">4</div>
              <div class="step-body">å¤åˆ¶ä¿å­˜ç”Ÿæˆçš„ Tokenï¼ˆæ ¼å¼ï¼š<code>sk-xxxxxxxx</code>ï¼‰</div>
            </li>
          </ol>

          <p><strong>æ­¥éª¤2ï¼šé…ç½® Windows ç³»ç»Ÿç¯å¢ƒå˜é‡</strong></p>
          <ol class="step-list">
            <li>
              <div class="step-number">1</div>
              <div class="step-body">å³é”®ç‚¹å‡» <strong>"æ­¤ç”µè„‘"</strong> â†’ <strong>"å±æ€§"</strong></div>
            </li>
            <li>
              <div class="step-number">2</div>
              <div class="step-body">ç‚¹å‡» <strong>"é«˜çº§ç³»ç»Ÿè®¾ç½®"</strong> â†’ <strong>"ç¯å¢ƒå˜é‡"</strong></div>
            </li>
            <li>
              <div class="step-number">3</div>
              <div class="step-body">
                åœ¨ <strong>"ç”¨æˆ·å˜é‡"</strong> åŒºåŸŸç‚¹å‡» <strong>"æ–°å»º"</strong>ï¼Œæ·»åŠ ä»¥ä¸‹ä¸¤ä¸ªå˜é‡ï¼š
                <div class="copy"><button data-copy='å˜é‡åï¼šANTHROPIC_AUTH_TOKEN
å˜é‡å€¼ï¼šsk-ä½ çš„å®é™…å¯†é’¥

å˜é‡åï¼šANTHROPIC_BASE_URL
å˜é‡å€¼ï¼šhttps://anyrouter.top'>å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
                <pre><code>å˜é‡åï¼šANTHROPIC_AUTH_TOKEN
å˜é‡å€¼ï¼šsk-ä½ çš„å®é™…å¯†é’¥

å˜é‡åï¼šANTHROPIC_BASE_URL
å˜é‡å€¼ï¼šhttps://anyrouter.top</code></pre>
              </div>
            </li>
            <li>
              <div class="step-number">4</div>
              <div class="step-body">
                <strong>âš ï¸ å…³é”®æ­¥éª¤ï¼š</strong>é‡å¯æ‰€æœ‰å·²æ‰“å¼€çš„ç»ˆç«¯ã€PowerShellã€VSCode ç­‰ IDE
              </div>
            </li>
          </ol>

          <p><strong>æ­¥éª¤3ï¼šéªŒè¯é…ç½®</strong></p>
          <div class="copy"><button data-copy='# PowerShell
echo $env:ANTHROPIC_AUTH_TOKEN
echo $env:ANTHROPIC_BASE_URL

# CMD
echo %ANTHROPIC_AUTH_TOKEN%
echo %ANTHROPIC_BASE_URL%'>å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
          <pre><code><span class="comment"># PowerShell</span>
echo $env:ANTHROPIC_AUTH_TOKEN
echo $env:ANTHROPIC_BASE_URL

<span class="comment"># CMD</span>
echo %ANTHROPIC_AUTH_TOKEN%
echo %ANTHROPIC_BASE_URL%</code></pre>

          <h4>è§£å†³æ–¹æ¡ˆ2ï¼šGit Bash ç¯å¢ƒé…ç½®</h4>
          <div class="copy"><button data-copy="# å†™å…¥é…ç½®åˆ° ~/.bashrc
cat >> ~/.bashrc << 'EOF'

export ANTHROPIC_AUTH_TOKEN=sk-ä½ çš„å®é™…å¯†é’¥
export ANTHROPIC_BASE_URL=https://anyrouter.top
EOF

# é‡æ–°åŠ è½½é…ç½®
source ~/.bashrc

# éªŒè¯é…ç½®
echo $ANTHROPIC_AUTH_TOKEN
echo $ANTHROPIC_BASE_URL">å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
          <pre><code><span class="comment"># å†™å…¥é…ç½®åˆ° ~/.bashrc</span>
cat >> ~/.bashrc << 'EOF'

export ANTHROPIC_AUTH_TOKEN=sk-ä½ çš„å®é™…å¯†é’¥
export ANTHROPIC_BASE_URL=https://anyrouter.top
EOF

<span class="comment"># é‡æ–°åŠ è½½é…ç½®</span>
source ~/.bashrc

<span class="comment"># éªŒè¯é…ç½®</span>
echo $ANTHROPIC_AUTH_TOKEN
echo $ANTHROPIC_BASE_URL</code></pre>

          <h4>è§£å†³æ–¹æ¡ˆ3ï¼šé…ç½®æ–‡ä»¶æ–¹å¼ï¼ˆå¤‡ç”¨ï¼‰</h4>
          <p>åœ¨ç”¨æˆ·ä¸»ç›®å½•ï¼ˆ<code>C:\Users\ä½ çš„ç”¨æˆ·å</code>ï¼‰ä¸‹åˆ›å»ºæ–‡ä»¶ <code>.claude.json</code>ï¼š</p>
          <div class="copy"><button data-copy='{
  "env": {
    "ANTHROPIC_AUTH_TOKEN": "sk-ä½ çš„å®é™…å¯†é’¥",
    "ANTHROPIC_BASE_URL": "https://anyrouter.top"
  }
}'>å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
          <pre><code>{
  "env": {
    "ANTHROPIC_AUTH_TOKEN": "sk-ä½ çš„å®é™…å¯†é’¥",
    "ANTHROPIC_BASE_URL": "https://anyrouter.top"
  }
}</code></pre>

          <h4>å¸¸è§é—®é¢˜æ’æŸ¥</h4>
          <table class="table">
            <thead>
              <tr>
                <th>é—®é¢˜</th>
                <th>è§£å†³æ–¹æ³•</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>ç•Œé¢æ˜¾ç¤º "offline" çŠ¶æ€</td>
                <td>è¿™æ˜¯æ­£å¸¸ç°è±¡ï¼Œä¸å½±å“ä½¿ç”¨ï¼ˆæ— æ³•è¿æ¥ Google æµ‹é€ŸæœåŠ¡ï¼‰</td>
              </tr>
              <tr>
                <td>å¶å°”å‡ºç° "fetch failed" é”™è¯¯</td>
                <td>æŒ‰ <code>Ctrl+C</code> é€€å‡ºåé‡æ–°å¯åŠ¨ <code>claude</code></td>
              </tr>
              <tr>
                <td>é…ç½®åä»ç„¶ 401 é”™è¯¯</td>
                <td>
                  <ul style="margin: 0; padding-left: 20px;">
                    <li>ç¡®è®¤ Token æ ¼å¼æ­£ç¡®ï¼ˆä»¥ <code>sk-</code> å¼€å¤´ï¼‰</li>
                    <li>ç¡®è®¤ URL æ— å¤šä½™ç©ºæ ¼æˆ–è·¯å¾„</li>
                    <li>ç¡®è®¤å·²é‡å¯æ‰€æœ‰ç»ˆç«¯å’Œ IDE</li>
                    <li>æ£€æŸ¥ anyrouter è´¦æˆ·ä½™é¢æ˜¯å¦å……è¶³</li>
                  </ul>
                </td>
              </tr>
            </tbody>
          </table>

          <div class="alert info">
            <strong>âœ… æˆåŠŸæ ‡å¿—ï¼š</strong>
            <ul>
              <li>Claude Code æ­£å¸¸å¯åŠ¨æ— æŠ¥é”™</li>
              <li>å¯ä»¥è¾“å…¥é—®é¢˜å¹¶è·å¾— AI å›å¤</li>
              <li>ä¸å†å‡ºç° 401 è®¤è¯é”™è¯¯</li>
              <li>è¯·æ±‚é‡è¯•æ¬¡æ•°ä¸º 0</li>
            </ul>
          </div>

          <div class="alert warn">
            <strong>ğŸ’¡ æœ€ä½³å®è·µå»ºè®®ï¼š</strong>
            <ul>
              <li>ä¼˜å…ˆä½¿ç”¨ç³»ç»Ÿç¯å¢ƒå˜é‡æ–¹å¼ï¼ˆæ–¹æ¡ˆä¸€ï¼‰ï¼Œå…¼å®¹æ€§æœ€å¥½</li>
              <li>API å¯†é’¥è®¾ç½®ä¸ºæ°¸ä¸è¿‡æœŸï¼Œé¢åº¦è®¾ç½®ä¸ºæ— é™ï¼Œé¿å…é¢‘ç¹æ›´æ¢</li>
              <li>æ¯æ¬¡ä¿®æ”¹é…ç½®åå¿…é¡»é‡å¯ç»ˆç«¯/IDEï¼Œè¿™æ˜¯æœ€å¸¸è¢«å¿½ç•¥çš„æ­¥éª¤</li>
              <li>ä¿å­˜å¥½å¤‡ç”¨ API åœ°å€ï¼ˆå¦‚ <code>https://pmpjfbhq.cn-nb1.rainapp.top</code>ï¼‰ï¼Œä»¥åº”å¯¹ä¸»åœ°å€ä¸ç¨³å®šæƒ…å†µ</li>
              <li>å®šæœŸæ£€æŸ¥ anyrouter è´¦æˆ·ä½™é¢ï¼Œä½™é¢ä¸è¶³ä¹Ÿä¼šå¯¼è‡´è®¤è¯å¤±è´¥</li>
            </ul>
          </div>

          <h3>403 Forbidden - ç¦æ­¢è®¿é—®</h3>
          <div class="alert danger">API Error: 403 Forbidden</div>
          <ul class="checklist">
            <li>è´¦å·å¯èƒ½è¢«é™åˆ¶æˆ–æš‚åœ</li>
            <li>IP åœ°å€å¯èƒ½è¢«é™åˆ¶ï¼ˆæŸäº›åœ°åŒºï¼‰</li>
            <li>å°è¯•ä½¿ç”¨ VPN/ä»£ç†ï¼ˆç¾åŒºæ¨èï¼‰</li>
          </ul>
          <h3>429 Too Many Requests - è¯·æ±‚è¿‡å¤š</h3>
          <div class="alert warn">API Error: 429 Rate Limit</div>
          <ul class="checklist">
            <li>ç­‰å¾…å‡ åˆ†é’Ÿåé‡è¯•</li>
            <li>å‡å°‘è¯·æ±‚é¢‘ç‡</li>
            <li>å‡çº§åˆ°æ›´é«˜çº§åˆ«çš„è®¢é˜…</li>
          </ul>
          <h3>ERR_CONNECTION_REFUSED - è¿æ¥è¢«æ‹’ç»</h3>
          <div class="alert danger">localhost:54545 æ‹’ç»è¿æ¥</div>
          <ul class="checklist">
            <li>è¿™æ˜¯ OAuth å›è°ƒé—®é¢˜ï¼Œä½¿ç”¨ <code>claude-code auth --manual</code></li>
            <li>æˆ–åœ¨åŒä¸€å°ç”µè„‘å®Œæˆæˆæƒ</li>
            <li>æ£€æŸ¥é˜²ç«å¢™æ˜¯å¦é˜»æ­¢ Node.js</li>
          </ul>
        </section>

        <!-- Print Spooler éƒ¨åˆ† -->
        <section id="print-spooler" class="card">
          <h2>ğŸ–¨ï¸ Print Spooler è¯Šæ–­</h2>
          <div class="alert warn">
            <strong>âš ï¸ é‡è¦æç¤ºï¼š</strong>æ‰€æœ‰æ“ä½œéƒ½éœ€è¦ç®¡ç†å‘˜æƒé™ï¼
          </div>
          <h3>å¿«é€Ÿä¿®å¤æ­¥éª¤</h3>
          <ol class="step-list">
            <li>
              <div class="step-number">1</div>
              <div class="step-body">
                <strong>åœæ­¢ Print Spooler æœåŠ¡</strong>
                <div class="copy"><button data-copy="net stop spooler">å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
                <pre><code>net stop spooler</code></pre>
              </div>
            </li>
            <li>
              <div class="step-number">2</div>
              <div class="step-body">
                <strong>æ¸…ç†æ‰“å°é˜Ÿåˆ—æ–‡ä»¶</strong>
                <div class="copy"><button data-copy='del /F /Q %SystemRoot%\System32\spool\PRINTERS\*.*'>å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
                <pre><code>del /F /Q %SystemRoot%\System32\spool\PRINTERS\*.*</code></pre>
              </div>
            </li>
            <li>
              <div class="step-number">3</div>
              <div class="step-body">
                <strong>é‡å¯æœåŠ¡</strong>
                <div class="copy"><button data-copy="net start spooler">å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
                <pre><code>net start spooler</code></pre>
              </div>
            </li>
          </ol>
          <h3>å¸¸è§é”™è¯¯ä»£ç </h3>
          <table class="table">
            <thead>
              <tr>
                <th>é”™è¯¯ä»£ç </th>
                <th>è§£å†³æ–¹æ¡ˆ</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>1068</strong></td>
                <td>å¯åŠ¨ä¾èµ–æœåŠ¡ (RPC, HTTP)</td>
              </tr>
              <tr>
                <td><strong>1053</strong></td>
                <td>æ¸…ç†æ‰“å°é˜Ÿåˆ—ï¼Œé‡å¯æœåŠ¡</td>
              </tr>
              <tr>
                <td><strong>1067</strong></td>
                <td>è¿è¡Œ SFC æ‰«æä¿®å¤ç³»ç»Ÿæ–‡ä»¶</td>
              </tr>
            </tbody>
          </table>
          <h3>é«˜çº§ä¿®å¤</h3>
          <div class="copy"><button data-copy='sfc /scannow
DISM /Online /Cleanup-Image /RestoreHealth'>å¤åˆ¶</button><span class="ok">å·²å¤åˆ¶</span></div>
          <pre><code><span class="comment"># ç³»ç»Ÿæ–‡ä»¶æ£€æŸ¥</span>
sfc /scannow

<span class="comment"># DISM ä¿®å¤</span>
DISM /Online /Cleanup-Image /RestoreHealth</code></pre>
        </section>

        <footer class="foot">
          Â© oscar çš„ä¸ªäººæ‰‹å†Œ Â· æœ¬é¡µé¢ä¸ºå•æ–‡ä»¶ HTMLï¼Œå¯ç¦»çº¿ä¿å­˜ä¸åˆ†äº«ï¼›éœ€è¦æ›´æ–°æ—¶ï¼ŒæŠŠæ­¤æ–‡ä»¶äº¤ç»™ Codex æŒ‰ä¸Šé¢æç¤ºè¯è¿›è¡Œåˆå¹¶ç»´æŠ¤å³å¯ã€‚
        </footer>
      </main>

      <!-- å³ä¾§ TOC -->
      <aside class="toc" id="toc">
        <div class="toc-title">æœ¬é¡µç›®å½•</div>
        <ul class="toc-list" id="tocList">
          <!-- åŠ¨æ€ç”Ÿæˆ -->
        </ul>
      </aside>
    </div>
  </div>

  <script>
    // ========== ä¸»é¢˜åˆ‡æ¢ ==========
    const themeBtn = document.getElementById('toggleTheme');
    const themeIcon = document.getElementById('themeIcon');
    const root = document.body;

    function setTheme(theme) {
      root.setAttribute('data-theme', theme);
      themeIcon.textContent = theme === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™';
      localStorage.setItem('codex-theme', theme);
    }

    themeBtn.addEventListener('click', () => {
      const current = root.getAttribute('data-theme');
      setTheme(current === 'dark' ? 'light' : 'dark');
    });

    // åŠ è½½ä¿å­˜çš„ä¸»é¢˜
    const savedTheme = localStorage.getItem('codex-theme') || 'dark';
    setTheme(savedTheme);

    // ========== ç§»åŠ¨ç«¯ä¾§è¾¹æ åˆ‡æ¢ ==========
    const mobileToggle = document.getElementById('mobileToggle');
    const sidebar = document.getElementById('sidebar');

    mobileToggle.addEventListener('click', () => {
      sidebar.classList.toggle('active');
    });

    // ç‚¹å‡»ä¸»å†…å®¹åŒºå…³é—­ä¾§è¾¹æ 
    document.getElementById('mainContent').addEventListener('click', () => {
      if (window.innerWidth <= 768) {
        sidebar.classList.remove('active');
      }
    });

    // ========== å¤åˆ¶æŒ‰é’® ==========
    document.querySelectorAll('.copy button').forEach(btn => {
      btn.addEventListener('click', async () => {
        try {
          const text = btn.getAttribute('data-copy');
          await navigator.clipboard.writeText(text);
          const ok = btn.parentElement.querySelector('.ok');
          ok.style.display = 'inline';
          setTimeout(() => ok.style.display = 'none', 1400);
        } catch (e) {
          alert('å¤åˆ¶å¤±è´¥ï¼š' + e);
        }
      });
    });

    // ========== åŠ¨æ€ç”Ÿæˆ TOC ==========
    function generateTOC() {
      const content = document.getElementById('mainContent');
      const tocList = document.getElementById('tocList');
      const headings = content.querySelectorAll('h2, h3');

      tocList.innerHTML = '';

      headings.forEach((heading, index) => {
        // ä¸ºæ²¡æœ‰ ID çš„æ ‡é¢˜æ·»åŠ  ID
        if (!heading.id) {
          heading.id = `heading-${index}`;
        }

        const li = document.createElement('li');
        li.className = 'toc-item';

        const a = document.createElement('a');
        a.href = `#${heading.id}`;
        a.className = `toc-link ${heading.tagName === 'H3' ? 'level-3' : ''}`;

        // æ¸…ç†æ ‡é¢˜æ–‡æœ¬ï¼šç§»é™¤emojiå’Œç‰¹æ®Šç¬¦å·ï¼Œåªä¿ç•™æ–‡å­—éƒ¨åˆ†
        let cleanText = heading.textContent
          .replace(/^[ğŸš€ğŸ”ğŸ”‘ğŸ§ ğŸ›¡ï¸ğŸ’¬ğŸ§°ğŸ–¼ï¸âš™ï¸âŒ¨ï¸ğŸ“ŠğŸ§¾ğŸŒğŸ§±â“ğŸ§ªğŸ§©ğŸ¯ğŸ’»ğŸ”„ğŸ§¹ğŸ”âŒğŸ–¨ï¸â­ğŸ“Œ]/g, '') // ç§»é™¤emoji
          .replace(/^[\sâ—†â—‡â—â—‹â–ªâ–«â– â–¡â˜…â˜†â™¦â™¢]+/g, '') // ç§»é™¤å„ç§ç¬¦å·
          .replace(/ğŸ“Œ\s*æ–°å¢\s*\d{4}-\d{2}-\d{2}/g, '') // ç§»é™¤æ—¶é—´æˆ³æ ‡è®°
          .trim();

        a.textContent = cleanText;

        li.appendChild(a);
        tocList.appendChild(li);
      });
    }

    // ========== æ»šåŠ¨é«˜äº® TOC ==========
    function highlightTOC() {
      const headings = document.querySelectorAll('#mainContent h2, #mainContent h3');
      const tocLinks = document.querySelectorAll('.toc-link');

      let currentHeading = null;

      headings.forEach(heading => {
        const rect = heading.getBoundingClientRect();
        if (rect.top <= 100) {
          currentHeading = heading;
        }
      });

      tocLinks.forEach(link => {
        link.classList.remove('active');
        if (currentHeading && link.getAttribute('href') === `#${currentHeading.id}`) {
          link.classList.add('active');
        }
      });
    }

    // ========== å·¦ä¾§å¯¼èˆªé«˜äº® ==========
    function highlightNav() {
      const navLinks = document.querySelectorAll('.nav-link');
      const sections = document.querySelectorAll('section[id]');

      let currentSection = null;

      sections.forEach(section => {
        const rect = section.getBoundingClientRect();
        if (rect.top <= 150) {
          currentSection = section;
        }
      });

      navLinks.forEach(link => {
        link.classList.remove('active');
        if (currentSection && link.getAttribute('href') === `#${currentSection.id}`) {
          link.classList.add('active');
          updateBreadcrumb(link.textContent);
        }
      });
    }

    // ========== æ›´æ–°é¢åŒ…å±‘ ==========
    function updateBreadcrumb(current) {
      const breadcrumb = document.getElementById('breadcrumbCurrent');
      if (breadcrumb && current) {
        breadcrumb.textContent = current;
      }
    }

    // ========== å¯¼èˆªåˆ†ç»„æŠ˜å  ==========
    document.querySelectorAll('.nav-group-title').forEach(title => {
      title.addEventListener('click', () => {
        title.parentElement.classList.toggle('collapsed');
      });
    });

    // ========== æœç´¢åŠŸèƒ½ ==========
    const searchInput = document.getElementById('searchInput');
    let searchTimeout;

    searchInput.addEventListener('input', (e) => {
      clearTimeout(searchTimeout);
      searchTimeout = setTimeout(() => {
        performSearch(e.target.value);
      }, 300);
    });

    // å¿«æ·é”® Ctrl+K
    document.addEventListener('keydown', (e) => {
      if (e.ctrlKey && e.key === 'k') {
        e.preventDefault();
        searchInput.focus();
      }
    });

    function performSearch(query) {
      const content = document.getElementById('mainContent');
      const sections = content.querySelectorAll('section');

      // æ¸…é™¤ä¹‹å‰çš„é«˜äº®
      content.querySelectorAll('.search-highlight').forEach(el => {
        const parent = el.parentNode;
        parent.replaceChild(document.createTextNode(el.textContent), el);
        parent.normalize();
      });

      if (!query.trim()) {
        sections.forEach(section => section.style.display = '');
        return;
      }

      const searchTerm = query.toLowerCase();

      sections.forEach(section => {
        const text = section.textContent.toLowerCase();
        if (text.includes(searchTerm)) {
          section.style.display = '';
          // é«˜äº®åŒ¹é…æ–‡æœ¬
          highlightText(section, query);
        } else {
          section.style.display = 'none';
        }
      });
    }

    function highlightText(element, query) {
      const regex = new RegExp(`(${escapeRegex(query)})`, 'gi');

      function highlight(node) {
        if (node.nodeType === 3) { // Text node
          const match = node.textContent.match(regex);
          if (match) {
            const span = document.createElement('span');
            span.innerHTML = node.textContent.replace(regex, '<span class="search-highlight">$1</span>');
            node.parentNode.replaceChild(span, node);
          }
        } else if (node.nodeType === 1 && node.nodeName !== 'SCRIPT' && node.nodeName !== 'STYLE') {
          Array.from(node.childNodes).forEach(highlight);
        }
      }

      // åªé«˜äº® p, li, td ç­‰æ–‡æœ¬èŠ‚ç‚¹
      element.querySelectorAll('p, li, td, h2, h3, h4').forEach(highlight);
    }

    function escapeRegex(str) {
      return str.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
    }

    // ========== æ»šåŠ¨åˆ°é¡¶éƒ¨ ==========
    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // ========== åˆå§‹åŒ– ==========
    window.addEventListener('DOMContentLoaded', () => {
      generateTOC();
      highlightTOC();
      highlightNav();
    });

    // ========== æ»šåŠ¨äº‹ä»¶ç›‘å¬ ==========
    let ticking = false;

    document.getElementById('mainContent').addEventListener('scroll', () => {
      if (!ticking) {
        window.requestAnimationFrame(() => {
          highlightTOC();
          highlightNav();
          ticking = false;
        });
        ticking = true;
      }
    });

    // ========== å¹³æ»‘æ»šåŠ¨åˆ°é”šç‚¹ ==========
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          const content = document.getElementById('mainContent');
          const offsetTop = target.offsetTop - 20;
          content.scrollTo({
            top: offsetTop,
            behavior: 'smooth'
          });

          // ç§»åŠ¨ç«¯å…³é—­ä¾§è¾¹æ 
          if (window.innerWidth <= 768) {
            sidebar.classList.remove('active');
          }
        }
      });
    });
  </script>
</body>
</html>
